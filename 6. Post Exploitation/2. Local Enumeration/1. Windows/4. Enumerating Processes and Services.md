# Enumerating Processes and Services

After we gain access to a system, it's always important to gain knowledge on what processes and services are running on the system. This is important due to several reasons, but some of them are:

- Process migration.
- Injecting malware to processes.
- Privilege escalation possibilities.

#### BASIC PROCESS ENUMERATION:

```c
meterpreter > ps
# lists of running process
C:\> tasklist /SVC
# get a list of running processes along with underlying services
```

#### MIGRATING A PROCESS:

```c
meterpreter > pgrep [PROCESS_NAME]
meterpreter > migrate [PROCESS_ID]
# get PID of [PROCESS_NAME]. it's recommended to migrate to a stable process like explorer.exe to avoid losing a meterpreter shell.
```

#### SERVICE ENUMERATION:

```c
C:\> net start
# lists all the started services on a system    

C:\> wmic service list brief
# displays all the services in the system along with the status whether they are started or stopped.

C:\> sc query [SERVICE_NAME]
C:\> sc start [SERVICE NAME]
C:\> sc stop [SERVICE NAME]
# query, start or stop a specific service.
```

#### SCHEDULED TASK ENUMERATION:

```c
C:\> schtask /query /fo LIST {/v}
# enumerate all scheduled tasks.
```